@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
    ViewData["Title"] = "Staff";
    Layout = "~/Areas/Admin/Views/Shared/_AdminLayout.cshtml";
}
<div class="content">

    <!-- Start Content-->
    <div class="container-fluid">

        <div class="row">
            <div class="col-12">
                <div class="card-box">
                    <h4 class="m-t-0 header-title">اضافه کردن کارمند جدید</h4>

                    <div class="row">
                        <div class="col-12">
                            <div class="p-2">

                                <div class="form-group row">
                                    <label class="col-sm-2  col-form-label" for="simpleinput">نام کارمند:</label>
                                    <div class="col-sm-10">
                                        <input type="text" id="txtFullname" class="form-control">
                                    </div>
                                </div>
                            </div>
                            <div class="form-group row">
                                <label class="col-sm-2  col-form-label" for="example-email">سمت:</label>
                                <div class="col-sm-10">
                                    <input type="text" id="txtPosition" name="example-email" class="form-control"
                                           placeholder="سمت کارمند">
                                </div>
                            </div>
                            <div class="form-group row">
                                <label class="col-sm-2  col-form-label" for="example-email">توضیحات:</label>
                                <div class="col-sm-10">
                                    <input type="text" id="txtDetail" name="example-email" class="form-control"
                                           placeholder="توضیحات">
                                </div>
                            </div>

                            <div class="dropify-message">
                                <span class="file-icon">

                            </div><div class="dropify-loader"></div><div class="dropify-errors-container">
                                <ul></ul>
                            </div>

                            <input type="file" id="inputFile" class="dropify" data-height="300">

                            <div class="dropify-preview">
                                <span class="dropify-render"></span>
                                <div class="dropify-infos">
                                    <div class="dropify-infos-inner">
                                        <p class="dropify-filename">
                                            <span class="file-icon">

                                            </span> <span class="dropify-filename-inner"></span>
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <button onclick="Add()" class="btn btn-primary">درج کارمند</button>
                </div>

            </div>
            <!-- end row -->

        </div> <!-- end card-box -->
    </div><!-- end col -->
</div>

@section Styles{
    <link href="~/AdminTemplate/libs/dropify/dropify.min.css" rel="stylesheet" type="text/css" />
}

@section Scripts{
    <script src="~/AdminTemplate/libs/dropify/dropify.min.js"></script>
    <script src="~/AdminTemplate/js/pages/form-fileupload.init.js"></script>
    <script>
        function Add(){

            var postData = new FormData();
            postData.append("Name", $("#txtFullname").val());
            postData.append("Title", $("#txtPosition").val());
            postData.append("Detail", $("#txtDetail").val());

            var Image = document.getElementById("inputFile");
            postData.append("File", Image.files[0]);

            $.ajax({
                contentType:false,
                processData:false,
                type:'POST',
                data:postData,
                url:'index',
                success:function(data){
                    if(data.isSuccess)
                    {
                        alert('OK');
                    }
                },
                error:function(request,status,error){
                    alert('err:' + request.responseText);
                }
            });

        }
    </script>
}